;****************************************************************
; This file is auto-generated by ddmake from coleco_cart.toml
; *** DO NOT EDIT ***
;****************************************************************

; Start of chip memory mapping
STRTADD = 0x8000

; 2K ROM
ROMSIZE = 0x0800

; The code actually needs 4 bytes ram at this address for the command buffer.
; However, stack also starts here, and will grow down (towards 0) from this point.
; So, we need some above and below this address.  I generally choose the
; Top of RAM minus 16
RAMADDR = 0x77f0

; delay factor
BIGDEL = 0x0180

        .include "../core/dd.def"
        .include "../core/z80.def"
        .include "../io/romio.def"

;------- region1  -----------------------------------------------

        .bank   region1 (base=STRTADD, size=IOADD-STRTADD)
        .area   region1 (ABS, BANK=region1)

        .db	0xaa	    ; cartridge signature
    	.db	0x55
    	
    	.dw     0x0000
    	.dw     0x0000
    	.dw     0x0000
    	.dw     0x0000
    	.dw     START
    	JP      0x0008
    	JP      0x0010
    	JP      0x0018
    	JP      0x0020
    	JP      0x0028
    	JP      0x0030
    	JP      IRQADD
    	JP      NMIADD

    	.asciz  "BY: EVAN&FRANK/DEMON DEBUGGER/2019"

;
;       START CODE
;
START:
        DI                  ; Disable interrupts - we don't handle them
        LD      SP,RAMADDR  ; have to set valid SP
;       YOUR CODE CAN GO HERE
        JP      INIT

        .include "../core/z80_main.asm"
;
;       EVERY CODE
;
EVERY:
;       YOUR CODE CAN GO HERE
        RET

        .include "../io/z80_romio.asm"

;------- region2  -----------------------------------------------

        .bank   region2 (base=IOADD, size=IOEND-IOADD)
        .area   region2 (ABS, BANK=region2)

        .include "../io/romio_table.asm"

;------- region3  -----------------------------------------------

        .bank   region3 (base=IOEND, size=ROMEND-IOEND)
        .area   region3 (ABS, BANK=region3)


